<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ont-app.vocabulary.format documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to vocabulary</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ont-app</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vocabulary</span></div></div></li><li class="depth-3 branch"><a href="ont-app.vocabulary.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch current"><a href="ont-app.vocabulary.format.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>format</span></div></a></li><li class="depth-3 branch"><a href="ont-app.vocabulary.linguistics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>linguistics</span></div></a></li><li class="depth-3 branch"><a href="ont-app.vocabulary.lstr.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lstr</span></div></a></li><li class="depth-3"><a href="ont-app.vocabulary.wikidata.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wikidata</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-cljs-kw-escapes"><div class="inner"><span>cljs-kw-escapes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-cljs-uri-escapes"><div class="inner"><span>cljs-uri-escapes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-decode-kw-name"><div class="inner"><span>decode-kw-name</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-decode-kw-ns"><div class="inner"><span>decode-kw-ns</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-decode-uri-string"><div class="inner"><span>decode-uri-string</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-encode-kw-name"><div class="inner"><span>encode-kw-name</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-encode-kw-ns"><div class="inner"><span>encode-kw-ns</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-encode-uri-string"><div class="inner"><span>encode-uri-string</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-escape-utf-8"><div class="inner"><span>escape-utf-8</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-escapes-re"><div class="inner"><span>escapes-re</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-generate-kwi-escapes"><div class="inner"><span>generate-kwi-escapes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-generate-uri-escapes"><div class="inner"><span>generate-uri-escapes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-get-escapes"><div class="inner"><span>get-escapes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-invert-escape-map"><div class="inner"><span>invert-escape-map</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-kw-escapes"><div class="inner"><span>kw-escapes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-kw-escapes-inverted"><div class="inner"><span>kw-escapes-inverted</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-kw-escapes-re"><div class="inner"><span>kw-escapes-re</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-kw-terminal-escapes"><div class="inner"><span>kw-terminal-escapes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-kw-test"><div class="inner"><span>kw-test</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-uri-escapes"><div class="inner"><span>uri-escapes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-uri-escapes-inverted"><div class="inner"><span>uri-escapes-inverted</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-uri-escapes-re"><div class="inner"><span>uri-escapes-re</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-uri-string.3F"><div class="inner"><span>uri-string?</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.format.html#var-uri-test"><div class="inner"><span>uri-test</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ont-app.vocabulary.format</h1><div class="doc"><pre class="plaintext">Logic to handle all the various escapes and en/decoding required for URIs
and keywords</pre></div><div class="public anchor" id="var-cljs-kw-escapes"><h3>cljs-kw-escapes</h3><div class="usage"></div><div class="doc"><pre class="plaintext">{`kw-char` `escape-string`, ...}, for keyword-invalid chars.
</pre></div></div><div class="public anchor" id="var-cljs-uri-escapes"><h3>cljs-uri-escapes</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A direct copy of (io/resource 'uri-escapes.edn')
</pre></div></div><div class="public anchor" id="var-decode-kw-name"><h3>decode-kw-name</h3><div class="usage"><code>(decode-kw-name kw-name)</code></div><div class="doc"><pre class="plaintext">Inverse of `encode-kw-name`. Returns original value of `kw-name`
Where
`kw-name` is a string, typically the name string of a KWI.</pre></div></div><div class="public anchor" id="var-decode-kw-ns"><h3>decode-kw-ns</h3><div class="usage"><code>(decode-kw-ns kw-ns)</code></div><div class="doc"><pre class="plaintext">Returns `kw-ns` with any escapes translated
</pre></div></div><div class="public anchor" id="var-decode-uri-string"><h3>decode-uri-string</h3><div class="usage"><code>(decode-uri-string s)</code></div><div class="doc"><pre class="plaintext">Inverts URI escapes in `s`. Inverse of encode-uri-string.
</pre></div></div><div class="public anchor" id="var-encode-kw-name"><h3>encode-kw-name</h3><div class="usage"><code>(encode-kw-name kw-name)</code></div><div class="doc"><pre class="plaintext">Returns modified `kw-name`, derived s.t. when used as the name component of
 some   `kw`, `kw` will not choke the reader.
Inverse of `decode-kw-name`
Where
- `kw-name`` is a string
- `kw` is a keyword := :`ns`/`s`
</pre></div></div><div class="public anchor" id="var-encode-kw-ns"><h3>encode-kw-ns</h3><div class="usage"><code>(encode-kw-ns kw-ns)</code></div><div class="doc"><pre class="plaintext">Returns modified `kw-ns`, derived s.t. when used as the namespace component of
 some   `kw`, `kw` will not choke the reader.
Inverse of `decode-kw-name`
Where
- `kw-ns`` is a string
- `kw` is a keyword := :`ns`/`s`
</pre></div></div><div class="public anchor" id="var-encode-uri-string"><h3>encode-uri-string</h3><div class="usage"><code>(encode-uri-string s)</code></div><div class="doc"><pre class="plaintext">Renders `s` in a form that can be parsed as a URI
</pre></div></div><div class="public anchor" id="var-escape-utf-8"><h3>escape-utf-8</h3><div class="usage"><code>(escape-utf-8 c)</code></div><div class="doc"><pre class="plaintext">Returns a string for `c`, escaped as its hex equivalent.
</pre></div></div><div class="public anchor" id="var-escapes-re"><h3>escapes-re</h3><div class="usage"><code>(escapes-re inverted-escapes-map)</code></div><div class="doc"><pre class="plaintext">Returns a regex to recognize escape patterns in an encoded string per `inverted-escapes-map`
Where
- `inverted-escapes-map` := {`escape-pattern` `original`, ...}
</pre></div></div><div class="public anchor" id="var-generate-kwi-escapes"><h3>generate-kwi-escapes</h3><div class="usage"><code>(generate-kwi-escapes)</code></div><div class="doc"><pre class="plaintext">Side-effects: writes uri-escapes.edn and uri-escapes-inverted.edn
These are used to cache values used in clj/s to escape URIs
Note: typically used once to populate the resources.</pre></div></div><div class="public anchor" id="var-generate-uri-escapes"><h3>generate-uri-escapes</h3><div class="usage"><code>(generate-uri-escapes)</code></div><div class="doc"><pre class="plaintext">Side-effects: writes uri-escapes.edn and uri-escapes-inverted.edn
These are used to cache values used in clj/s to escape URIs
Note: typically used once to populate the resources.</pre></div></div><div class="public anchor" id="var-get-escapes"><h3>get-escapes</h3><div class="usage"><code>(get-escapes char-test escape-fn)</code><code>(get-escapes char-test escape-fn key-fn)</code></div><div class="doc"><pre class="plaintext">Returns {`test-breaker` `escaped`, ...} for `char-test` and `escape-fn`
Where
- `test-breaker` is a char that breaks `char-test`
- `escaped` is a string escaping `c`
- `char-test` := fn [c] -&gt; true if the char does not need escaping
- `escape-fn` := fn [c] -&gt; `escaped`
</pre></div></div><div class="public anchor" id="var-invert-escape-map"><h3>invert-escape-map</h3><div class="usage"></div><div class="doc"><pre class="plaintext">fn [{`escaped-char` `escape-str`, ...}] -&gt; {`escape-str` `escaped-char-str`, ...}
</pre></div></div><div class="public anchor" id="var-kw-escapes"><h3>kw-escapes</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Escapes map for keywords
</pre></div></div><div class="public anchor" id="var-kw-escapes-inverted"><h3>kw-escapes-inverted</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Maps escaped characters to the originals
</pre></div></div><div class="public anchor" id="var-kw-escapes-re"><h3>kw-escapes-re</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A regex to recognize when a string contains escapes
</pre></div></div><div class="public anchor" id="var-kw-terminal-escapes"><h3>kw-terminal-escapes</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Escapes for characters forbidden a the end of a keyword
</pre></div></div><div class="public anchor" id="var-kw-test"><h3>kw-test</h3><div class="usage"><code>(kw-test c)</code></div><div class="doc"><pre class="plaintext">True when `c` is problem-free in keywords.
Typically used in creataing edn files to inform encoding/decoding keywords</pre></div></div><div class="public anchor" id="var-uri-escapes"><h3>uri-escapes</h3><div class="usage"></div><div class="doc"><pre class="plaintext">{`c` `escape-str`, ...} for characters that break a URI string
</pre></div></div><div class="public anchor" id="var-uri-escapes-inverted"><h3>uri-escapes-inverted</h3><div class="usage"></div><div class="doc"><pre class="plaintext">{`escape-str` `char-str`, ...} to decode escaped URI strings
</pre></div></div><div class="public anchor" id="var-uri-escapes-re"><h3>uri-escapes-re</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A regex to replace escape strings with the original escaped char.
</pre></div></div><div class="public anchor" id="var-uri-string.3F"><h3>uri-string?</h3><div class="usage"><code>(uri-string? s)</code></div><div class="doc"><pre class="plaintext">True iff `s` is a valid URI string
</pre></div></div><div class="public anchor" id="var-uri-test"><h3>uri-test</h3><div class="usage"><code>(uri-test c)</code></div><div class="doc"><pre class="plaintext">True when `c` is problem-free in java URIs.
Typically used to create an edn file to inform encoding/decoding URI strings</pre></div></div></div></body></html>